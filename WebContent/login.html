<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>论坛--登录</title>
<link rel="stylesheet" type="text/css" href="style/style.css" />

</head>

<body>
	<div>
		<img src="image/logo.gif">
	</div>
	<!--      用户信息、登录、注册        -->

	<div class="h">
		您尚未 <a href="login.jsp">登录</a> &nbsp;| &nbsp; <a href="reg.jsp">注册</a>
		|
	</div>


	<br />
	<!--      导航        -->
	<div>
		&gt;&gt;<B><a href="index.jsp">论坛首页</a></B>
	</div>
	<!--      用户登录表单        -->
	<div id="yc_login" class="t" style="MARGIN-TOP: 15px" align="center">
		<form name="loginForm" method="post">
			<br />用户名 &nbsp;<input class="input" v-model="uname" tabIndex="1" type="text"
				maxLength="20" size="35" name="uName"> <br />密 码 &nbsp;<input
				class="input" v-model="upass" tabIndex="2" type="password" maxLength="20" size="40"
				name="uPass"> <br />
			<input class="btn" tabIndex="6" type="button" value="登 录" @click="login">
		</form>
	</div>
	<!--      声明        -->
	<br/>
	<center class="gray">源辰信息</center>
	<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="js/vue.min.js"></script>
	<script type="text/javascript" src="js/axios.min.js"></script>
	<script type="text/javascript" src="js/qs.js"></script>
	<script type="text/javascript">
		var vm=new Vue({
			el:'#yc_login',
			data:{
				uname:'',
				upass:''
			},
			methods:{
				login:function(){
					axios.post("user.action",qs.stringify({op:'login',uname:this.uname,upass:this.upass}))
					.then(result=>{
						var data=result.data;
						console.log(data);
						if('0'==data){
							alert('登录失败');
							this.uname='';
							this.upass='';
						}else{
							window.location.href='index.html';
						}
					});
				}
			}
		});
	</script>
</body>
</html>
